$(document).ready(function(){for(var a=document.getElementsByClassName("webpda-widgets"),g=a.length,b=0;b<g;b++)if("rgraph-gauge"==a[b].getAttribute("data-widget")){var c=a[b].getAttribute("data-pvname"),h="webpda-rgraph-gauge-"+b;a[b].innerHTML='<canvas id="'+h+'">[No canvas support]</canvas>';fitToContainer(a[b].firstChild);if(null!=c&&0<c.trim().length){var d,e=0,f=100;webpda.createPV(c,100,!1).addCallback(function(a,b,g){switch(a){case "conn":d=(new RGraph.Gauge(h,e,f,0)).Set("chart.title",c).Set("colors.ranges",
[]);break;case "val":a=b.getValue();if(e!=a.display.displayLow||f!=a.display.displayHigh)e=a.display.displayLow,f=a.display.displayHigh,d=(new RGraph.Gauge(h,e,f,a.value)).Set("chart.title",c).Set("colors.ranges",[]);d.value=a.value;b="green";"MAJOR"==a.severity?b="red":"MINOR"==a.severity&&(b="orange");d.Set("chart.needle.colors",[b]);d.Draw();break;case "error":writeToScreen("Error: "+g)}})}}});window.onbeforeunload=function(){webpda.close()};
function fitToContainer(a){a.style.width="100%";a.style.height="100%";a.width=a.offsetWidth;a.height=a.offsetHeight};